import{b as _t,e as Rn,a as N,n as Wn,c as q,t as K,d as Ve}from"../chunks/disclose-version.DRtg2X6E.js";import{V as an,o as wt,au as rn,w as V,N as De,O as ze,D as On,T as sn,a9 as Hn,aa as At,M as Ue,x as we,a7 as yt,q as ot,a8 as ln,av as dt,z as at,G as Je,aw as $t,ax as Lt,ay as xt,az as Fn,W as Un,a1 as Mt,aA as Jn,S as qn,aB as Kn,v as kt,I as Ct,P as Gn,aC as Vn,K as cn,Q as jn,L as Yn,E as dn,aD as un,a6 as Dt,aE as Zn,aF as Xn,aG as Qn,aH as ei,aI as ti,ab as ni,b as ii,ai as oi,n as Re,aJ as ai,aK as ri,aL as si,B as zt,C as It,F as li,aM as ci,ac as di,p as Ne,t as H,j as Te,k as y,m as M,l as w,i as W,g as C,at as Ie,a as St,X as ge,aN as Ce,f as ui}from"../chunks/utils.B3pP3Vnn.js";import{a as le,l as te,p as Me,s as ce,o as Et,i as Z,b as et}from"../chunks/index-client.CA-M3rue.js";import{d as Pt,i as vi,e as Bt,f as Pe,n as pi,g as fi,j as _i,s as rt,b as qe,a as ue,k as Rt,l as hi}from"../chunks/store.CiBdVgfM.js";import{i as vn}from"../chunks/lifecycle.eB5QG6Sh.js";import{a as st,$ as Wt,b as pn,i as mi,g as gi}from"../chunks/runtime.M495nTEn.js";import{b as Ot}from"../chunks/paths.DSnwwGD6.js";let Se=null;function Ht(e){Se=e}function fn(e,t){return t}function bi(e,t,n,o){for(var i=[],r=t.length,a=0;a<r;a++)Jn(t[a].e,i,!0);var c=r>0&&i.length===0&&n!==null;if(c){var s=n.parentNode;qn(s),s.append(n),o.clear(),ye(e,t[0].prev,t[r-1].next)}Kn(i,()=>{for(var u=0;u<r;u++){var d=t[u];c||(o.delete(d.k),ye(e,d.prev,d.next)),kt(d.e,!c)}})}function Nt(e,t,n,o,i,r=null){var a=e,c={flags:t,items:new Map,first:null},s=(t&rn)!==0;if(s){var u=e;a=V?De(Ct(u)):u.appendChild(an())}V&&ze();var d=null,l=!1;wt(()=>{var v=n(),_=On(v)?v:v==null?[]:sn(v),m=_.length;if(l&&m===0)return;l=m===0;let h=!1;if(V){var f=a.data===Hn;f!==(m===0)&&(a=At(),De(a),Ue(!1),h=!0)}if(V){for(var p=null,g,b=0;b<m;b++){if(we.nodeType===8&&we.data===Gn){a=we,h=!0,Ue(!1);break}var $=_[b],k=o($,b);g=_n(we,c,p,null,$,k,b,i,t),c.items.set(k,g),p=g}m>0&&De(At())}V||wi(_,c,a,i,t,o),r!==null&&(m===0?d?yt(d):d=ot(()=>r(a)):d!==null&&ln(d,()=>{d=null})),h&&Ue(!0),n()}),V&&(a=we)}function wi(e,t,n,o,i,r){var re,ve,pe,F;var a=(i&Vn)!==0,c=(i&($t|xt))!==0,s=e.length,u=t.items,d=t.first,l=d,v,_=null,m,h=[],f=[],p,g,b,$;if(a)for($=0;$<s;$+=1)p=e[$],g=r(p,$),b=u.get(g),b!==void 0&&((re=b.a)==null||re.measure(),(m??(m=new Set)).add(b));for($=0;$<s;$+=1){if(p=e[$],g=r(p,$),b=u.get(g),b===void 0){var k=l?l.e.nodes_start:n;_=_n(k,t,_,_===null?t.first:_.next,p,g,$,o,i),u.set(g,_),h=[],f=[],l=_.next;continue}if(c&&yi(b,p,$,i),b.e.f&dt&&(yt(b.e),a&&((ve=b.a)==null||ve.unfix(),(m??(m=new Set)).delete(b))),b!==l){if(v!==void 0&&v.has(b)){if(h.length<f.length){var z=f[0],D;_=z.prev;var G=h[0],Q=h[h.length-1];for(D=0;D<h.length;D+=1)Ft(h[D],z,n);for(D=0;D<f.length;D+=1)v.delete(f[D]);ye(t,G.prev,Q.next),ye(t,_,G),ye(t,Q,z),l=z,_=Q,$-=1,h=[],f=[]}else v.delete(b),Ft(b,l,n),ye(t,b.prev,b.next),ye(t,b,_===null?t.first:_.next),ye(t,_,b),_=b;continue}for(h=[],f=[];l!==null&&l.k!==g;)l.e.f&dt||(v??(v=new Set)).add(l),f.push(l),l=l.next;if(l===null)continue;b=l}h.push(b),_=b,l=b.next}if(l!==null||v!==void 0){for(var ne=v===void 0?[]:sn(v);l!==null;)l.e.f&dt||ne.push(l),l=l.next;var B=ne.length;if(B>0){var j=i&rn&&s===0?n:null;if(a){for($=0;$<B;$+=1)(pe=ne[$].a)==null||pe.measure();for($=0;$<B;$+=1)(F=ne[$].a)==null||F.fix()}bi(t,ne,j,u)}}a&&at(()=>{var R;if(m!==void 0)for(b of m)(R=b.a)==null||R.apply()}),Je.first=t.first&&t.first.e,Je.last=_&&_.e}function yi(e,t,n,o){o&$t&&Lt(e.v,t),o&xt?Lt(e.i,n):e.i=n}function _n(e,t,n,o,i,r,a,c,s){var u=Se;try{var d=(s&$t)!==0,l=(s&Fn)===0,v=d?l?Un(i):Mt(i):i,_=s&xt?Mt(a):a,m={i:_,v,k:r,a:null,e:null,prev:n,next:o};return Se=m,m.e=ot(()=>c(e,v,_),V),m.e.prev=n&&n.e,m.e.next=o&&o.e,n===null?t.first=m:(n.next=m,n.e.next=m.e),o!==null&&(o.prev=m,o.e.prev=m.e),m}finally{Se=u}}function Ft(e,t,n){for(var o=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,r=e.e.nodes_start;r!==o;){var a=cn(r);i.before(r),r=a}}function ye(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function $i(e,t,n,o,i){var r=e,a="",c;wt(()=>{if(a===(a=t()??"")){V&&ze();return}c!==void 0&&(kt(c),c=void 0),a!==""&&(c=ot(()=>{if(V){we.data;for(var s=ze(),u=s;s!==null&&(s.nodeType!==8||s.data!=="");)u=s,s=cn(s);if(s===null)throw jn(),Yn;_t(we,u),r=De(s);return}var d=a+"",l=Rn(d);_t(Ct(l),l.lastChild),r.before(l)}))})}function ae(e,t,n,o,i){var c;V&&ze();var r=(c=t.$$slots)==null?void 0:c[n],a=!1;r===!0&&(r=t.children,a=!0),r===void 0||r(e,a?()=>o:o)}function xi(e,t,n,o,i,r){let a=V;V&&ze();var c,s,u=null;V&&we.nodeType===1&&(u=we,ze());var d=V?we:e,l,v=Se;wt(()=>{const _=t()||null;var m=un;if(_!==c){var h=Se;Ht(v),l&&(_===null?ln(l,()=>{l=null,s=null}):_===s?yt(l):(kt(l),Pt(!1))),_&&_!==s&&(l=ot(()=>{if(u=V?u:document.createElementNS(m,_),_t(u,u),o){var f=V?Ct(u):u.appendChild(an());V&&(f===null?Ue(!1):De(f)),o(u,f)}Je.nodes_end=u,d.before(u)})),c=_,c&&(s=c),Pt(!0),Ht(h)}},dn),a&&(Ue(!0),De(d))}function ki(e,t){if(t){const n=document.body;e.autofocus=!0,at(()=>{document.activeElement===n&&e.focus()})}}let Ut=!1;function hn(){Ut||(Ut=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function We(e){if(V){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var o=e.value;be(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var i=e.checked;be(e,"checked",null),e.checked=i}}};e.__on_r=n,Zn(n),hn()}}function be(e,t,n,o){var i=e.__attributes??(e.__attributes={});V&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Qn]=n),n==null?e.removeAttribute(t):typeof n!="string"&&mn(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Jt(e,t,n,o,i=!1,r=!1,a=!1){var c=t||{},s=e.tagName==="OPTION";for(var u in t)u in n||(n[u]=null);var d=mn(e),l=e.__attributes??(e.__attributes={}),v=[];for(const p in n){let g=n[p];if(s&&p==="value"&&g==null){e.value=e.__value="",c[p]=g;continue}var _=c[p];if(g!==_){c[p]=g;var m=p[0]+p[1];if(m!=="$$"){if(m==="on"){const b={},$="$$"+p;let k=p.slice(2);var h=fi(k);if(vi(k)&&(k=k.slice(0,-7),b.capture=!0),!h&&_){if(g!=null)continue;e.removeEventListener(k,c[$],b),c[$]=null}if(g!=null)if(h)e[`__${k}`]=g,Pe([k]);else{let z=function(D){c[p].call(this,D)};t?c[$]=Bt(k,e,z,b):v.push([p,g,()=>c[$]=Bt(k,e,z,b)])}}else if(p==="style"&&g!=null)e.style.cssText=g+"";else if(p==="autofocus")ki(e,!!g);else if(p==="__value"||p==="value"&&g!=null)e.value=e[p]=e.__value=g;else{var f=p;i||(f=pi(f)),g==null&&!r?(l[p]=null,e.removeAttribute(p)):d.includes(f)&&(r||typeof g!="string")?e[f]=g:typeof g!="function"&&(V&&(f==="src"||f==="href"||f==="srcset")||be(e,f,g))}p==="style"&&"__styles"in e&&(e.__styles={})}}}return t||at(()=>{if(e.isConnected)for(const[p,g,b]of v)c[p]===g&&b()}),c}var qt=new Map;function mn(e){var t=qt.get(e.nodeName);if(t)return t;qt.set(e.nodeName,t=[]);for(var n,o=Dt(e),i=Element.prototype;i!==o;){n=Xn(o);for(var r in n)n[r].set&&t.push(r);o=Dt(o)}return t}function je(e,t){var n=e.__className,o=Ci(t);V&&e.className===o?e.__className=o:(n!==o||V&&e.className!==o)&&(t==null?e.removeAttribute("class"):e.className=o,e.__className=o)}function Ci(e){return e??""}function He(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}const Si=()=>performance.now(),$e={tick:e=>requestAnimationFrame(e),now:()=>Si(),tasks:new Set};function gn(e){$e.tasks.forEach(t=>{t.c(e)||($e.tasks.delete(t),t.f())}),$e.tasks.size!==0&&$e.tick(gn)}function Ei(e){let t;return $e.tasks.size===0&&$e.tick(gn),{promise:new Promise(n=>{$e.tasks.add(t={c:e,f:n})}),abort(){$e.tasks.delete(t)}}}function Ye(e,t){e.dispatchEvent(new CustomEvent(t))}function Ni(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Kt(e){const t={},n=e.split(";");for(const o of n){const[i,r]=o.split(":");if(!i||r===void 0)break;const a=Ni(i.trim());t[a]=r.trim()}return t}const Ti=e=>e;function Ai(e,t,n){var o=Se,i,r,a,c=null;o.a??(o.a={element:e,measure(){i=this.element.getBoundingClientRect()},apply(){if(a==null||a.abort(),r=this.element.getBoundingClientRect(),i.left!==r.left||i.right!==r.right||i.top!==r.top||i.bottom!==r.bottom){const s=t()(this.element,{from:i,to:r},n==null?void 0:n());a=tt(this.element,s,void 0,1,()=>{a==null||a.abort(),a=void 0})}},fix(){if(!e.getAnimations().length){var{position:s,width:u,height:d}=getComputedStyle(e);if(s!=="absolute"&&s!=="fixed"){var l=e.style;c={position:l.position,width:l.width,height:l.height,transform:l.transform},l.position="absolute",l.width=u,l.height=d;var v=e.getBoundingClientRect();if(i.left!==v.left||i.top!==v.top){var _=`translate(${i.left-v.left}px, ${i.top-v.top}px)`;l.transform=l.transform?`${l.transform} ${_}`:_}}}},unfix(){if(c){var s=e.style;s.position=c.position,s.width=c.width,s.height=c.height,s.transform=c.transform}}}),o.a.element=e}function Fe(e,t,n,o){var i=(e&ai)!==0,r=(e&ri)!==0,a=i&&r,c=(e&si)!==0,s=a?"both":i?"in":"out",u,d=t.inert,l,v;function _(){var g=li,b=Je;zt(null),It(null);try{return u??(u=n()(t,(o==null?void 0:o())??{},{direction:s}))}finally{zt(g),It(b)}}var m={is_global:c,in(){var g;if(t.inert=d,!i){v==null||v.abort(),(g=v==null?void 0:v.reset)==null||g.call(v);return}r||l==null||l.abort(),Ye(t,"introstart"),l=tt(t,_(),v,1,()=>{Ye(t,"introend"),l==null||l.abort(),l=u=void 0})},out(g){if(!r){g==null||g(),u=void 0;return}t.inert=!0,Ye(t,"outrostart"),v=tt(t,_(),l,0,()=>{Ye(t,"outroend"),g==null||g()})},stop:()=>{l==null||l.abort(),v==null||v.abort()}},h=Je;if((h.transitions??(h.transitions=[])).push(m),i&&_i){var f=c;if(!f){for(var p=h.parent;p&&p.f&dn;)for(;(p=p.parent)&&!(p.f&ei););f=!p||(p.f&ti)!==0}f&&ni(()=>{ii(()=>m.in())})}}function tt(e,t,n,o,i){var r=o===1;if(oi(t)){var a,c=!1;return at(()=>{if(!c){var f=t({direction:r?"in":"out"});a=tt(e,f,n,o,i)}}),{abort:()=>{c=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return i(),{abort:Re,deactivate:Re,reset:Re,t:()=>o};const{delay:s=0,css:u,tick:d,easing:l=Ti}=t;var v=[];if(r&&n===void 0&&(d&&d(0,1),u)){var _=Kt(u(0,1));v.push(_,_)}var m=()=>1-o,h=e.animate(v,{duration:s});return h.onfinish=()=>{var f=(n==null?void 0:n.t())??1-o;n==null||n.abort();var p=o-f,g=t.duration*Math.abs(p),b=[];if(g>0){if(u)for(var $=Math.ceil(g/16.666666666666668),k=0;k<=$;k+=1){var z=f+p*l(k/$),D=u(z,1-z);b.push(Kt(D))}m=()=>{var G=h.currentTime;return f+p*l(G/g)},d&&Ei(()=>{if(h.playState!=="running")return!1;var G=m();return d(G,1-G),!0})}h=e.animate(b,{duration:g,fill:"forwards"}),h.onfinish=()=>{m=()=>o,d==null||d(o,1-o),i()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=Re)},deactivate:()=>{i=Re},reset:()=>{o===0&&(d==null||d(1,0))},t:()=>m()}}function Li(e,t,n,o=n){e.addEventListener(t,n);const i=e.__on_r;i?e.__on_r=()=>{i(),o()}:e.__on_r=o,hn()}function Oe(e,t,n=t){var o=ci();Li(e,"input",()=>{var i=Gt(e)?Vt(e.value):e.value;n(i),o&&i!==(i=t())&&(e.value=i??"")}),di(()=>{var i=t();if(V&&e.defaultValue!==e.value){n(e.value);return}Gt(e)&&i===Vt(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Gt(e){var t=e.type;return t==="number"||t==="range"}function Vt(e){return e===""?null:+e}const se=[];for(let e=0;e<256;++e)se.push((e+256).toString(16).slice(1));function Mi(e,t=0){return(se[e[t+0]]+se[e[t+1]]+se[e[t+2]]+se[e[t+3]]+"-"+se[e[t+4]]+se[e[t+5]]+"-"+se[e[t+6]]+se[e[t+7]]+"-"+se[e[t+8]]+se[e[t+9]]+"-"+se[e[t+10]]+se[e[t+11]]+se[e[t+12]]+se[e[t+13]]+se[e[t+14]]+se[e[t+15]]).toLowerCase()}let ut;const Di=new Uint8Array(16);function zi(){if(!ut){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ut=crypto.getRandomValues.bind(crypto)}return ut(Di)}const Ii=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jt={randomUUID:Ii};function Pi(e,t,n){if(jt.randomUUID&&!t&&!e)return jt.randomUUID();e=e||{};const o=e.random||(e.rng||zi)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Mi(o)}const bn=(e,t)=>{localStorage.setItem(e,JSON.stringify(t)),console.log(`Data saved to localStorage with key: ${e}`)},wn=e=>{const t=localStorage.getItem(e);return t?(console.log(`Data loaded from localStorage with key: ${e}`),JSON.parse(t)):(console.log(`No data found in localStorage with key: ${e}`),null)},Bi=e=>{localStorage.setItem("scene",JSON.stringify(e)),console.log("Data saved to localStorage")},Ri=()=>{const e=localStorage.getItem("scene");if(e){const t=JSON.parse(e);return console.log("scene loaded from localStorage"),t}return console.log("no scene found in localStorage"),null},I={Active:"ACTIVE",Dead:"DEAD",Waiting:"WAITING",Expecting:"EXPECTING"},ee=le({name:"My Scene",combatants:[]});function Wi(){return ee.combatants.find(e=>e.combatState===I.Active)||null}const P=le({activeCombatant:null,mostRecentTick:0}),Yt=()=>({id:Pi(),name:"",initiative:0,combatState:I.Active}),yn=e=>{console.log(`Load scene ${JSON.stringify(e)}`),Object.assign(ee,e),xe();const t=ee.combatants.filter(n=>n.combatState===I.Active).map(n=>n.initiative);P.mostRecentTick=t.length?Math.min(...t):0},Oi=()=>{Bi(ee)},Hi=(e,t)=>{ee.combatants.length>0&&e===ee.combatants.find(n=>n.combatState===I.Active)&&(P.mostRecentTick=e.initiative),e.initiative+=t,xe(e)},Fi=(e,t)=>{const n=e.combatState;e.initiative=t,e.combatState=I.Active,P.mostRecentTick=e.initiative,n===I.Expecting?xe(null,e):xe(e)},Ui=e=>{e.combatState=I.Waiting,P.mostRecentTick=e.initiative,xe(e)},Ji=e=>{e.combatState=I.Expecting,P.mostRecentTick=e.initiative,xe(e)},qi=e=>{e.combatState=I.Dead,xe(e)};function Ze(){P.activeCombatant=null}function $n(){const e=ee.combatants.filter(t=>t!==P.activeCombatant&&t.combatState===I.Active).map(t=>t.initiative);return e.length===0?P.mostRecentTick||0:Math.min(...e)}const xe=(e=null,t=null)=>{const o=JSON.parse(JSON.stringify(ee.combatants)).reduce((i,r)=>(i[r.combatState].push(r),i),{[I.Active]:[],[I.Waiting]:[],[I.Expecting]:[],[I.Dead]:[]});o[I.Active].sort((i,r)=>{if(i.initiative!==r.initiative)return i.initiative-r.initiative;if(i.initiative===r.initiative){if(e){if(i.id===e.id)return 1;if(r.id===e.id)return-1}if(t){if(i.id===t.id)return-1;if(r.id===t.id)return 1}}return 0}),o[I.Waiting].sort((i,r)=>i.initiative-r.initiative),o[I.Expecting].sort((i,r)=>i.initiative-r.initiative),o[I.Dead].sort((i,r)=>i.initiative-r.initiative),ee.combatants=[].concat(...o[I.Waiting],...o[I.Expecting],...o[I.Active],...o[I.Dead])},vt=".splimo.json",Ki=e=>new Promise((t,n)=>{const o=new FileReader;o.onload=i=>{var r;try{const a=JSON.parse((r=i.target)==null?void 0:r.result);t(a)}catch(a){console.error("error parsing JSON:",a),alert("invalid JSON file"),n(a)}},o.onerror=i=>{console.error("error reading file:",i),n(i)},o.readAsText(e)}),Zt=(e,t)=>{const n=JSON.stringify(e,null,2),o="data:application/json;charset=utf-8,"+encodeURIComponent(n),i=document.createElement("a");i.href=o,i.download=t,i.target="_blank",i.click()},Gi=async(e,t="scene"+vt)=>{if(e){t.endsWith(vt)||(t+=vt);const n=[JSON.stringify(e,null,2)],o=new File(n,t,{type:"application/json",lastModified:Date.now()});if(navigator.canShare&&navigator.canShare({files:[o]}))try{await navigator.share({files:[o],title:"Download JSON",text:"Download JSON file"})}catch(i){console.error("Error sharing JSON:",i),console.info("Try downloading file via data url fallback"),Zt(e,t)}else Zt(e,t)}else alert("No data to download")};let ht={};function pt(e={}){ht={animate:!0,allowClose:!0,overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...e}}function x(e){return e?ht[e]:ht}function Xe(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}function xn(e){const t='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return e.flatMap(n=>{const o=n.matches(t),i=Array.from(n.querySelectorAll(t));return[...o?[n]:[],...i]}).filter(n=>getComputedStyle(n).pointerEvents!=="none"&&Yi(n))}function kn(e){if(!e||ji(e))return;const t=x("smoothScroll");e.scrollIntoView({behavior:!t||Vi(e)?"auto":"smooth",inline:"center",block:"center"})}function Vi(e){if(!e||!e.parentElement)return;const t=e.parentElement;return t.scrollHeight>t.clientHeight}function ji(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function Yi(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}let nt={};function oe(e,t){nt[e]=t}function S(e){return e?nt[e]:nt}function Xt(){nt={}}let it={};function Qe(e,t){it[e]=t}function Ee(e){var t;(t=it[e])==null||t.call(it)}function Zi(){it={}}function Xi(e,t,n,o){let i=S("__activeStagePosition");const r=i||n.getBoundingClientRect(),a=o.getBoundingClientRect(),c=Xe(e,r.x,a.x-r.x,t),s=Xe(e,r.y,a.y-r.y,t),u=Xe(e,r.width,a.width-r.width,t),d=Xe(e,r.height,a.height-r.height,t);i={x:c,y:s,width:u,height:d},Sn(i),oe("__activeStagePosition",i)}function Cn(e){if(!e)return;const t=e.getBoundingClientRect(),n={x:t.x,y:t.y,width:t.width,height:t.height};oe("__activeStagePosition",n),Sn(n)}function Qi(){const e=S("__activeStagePosition"),t=S("__overlaySvg");if(!e)return;if(!t){console.warn("No stage svg found.");return}const n=window.innerWidth,o=window.innerHeight;t.setAttribute("viewBox",`0 0 ${n} ${o}`)}function eo(e){const t=to(e);document.body.appendChild(t),Tn(t,n=>{n.target.tagName==="path"&&Ee("overlayClick")}),oe("__overlaySvg",t)}function Sn(e){const t=S("__overlaySvg");if(!t){eo(e);return}const n=t.firstElementChild;if((n==null?void 0:n.tagName)!=="path")throw new Error("no path element found in stage svg");n.setAttribute("d",En(e))}function to(e){const t=window.innerWidth,n=window.innerHeight,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.classList.add("driver-overlay","driver-overlay-animated"),o.setAttribute("viewBox",`0 0 ${t} ${n}`),o.setAttribute("xmlSpace","preserve"),o.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1"),o.setAttribute("preserveAspectRatio","xMinYMin slice"),o.style.fillRule="evenodd",o.style.clipRule="evenodd",o.style.strokeLinejoin="round",o.style.strokeMiterlimit="2",o.style.zIndex="10000",o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%";const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",En(e)),i.style.fill=x("overlayColor")||"rgb(0,0,0)",i.style.opacity=`${x("overlayOpacity")}`,i.style.pointerEvents="auto",i.style.cursor="auto",o.appendChild(i),o}function En(e){const t=window.innerWidth,n=window.innerHeight,o=x("stagePadding")||0,i=x("stageRadius")||0,r=e.width+o*2,a=e.height+o*2,c=Math.min(i,r/2,a/2),s=Math.floor(Math.max(c,0)),u=e.x-o+s,d=e.y-o,l=r-s*2,v=a-s*2;return`M${t},0L0,0L0,${n}L${t},${n}L${t},0Z
    M${u},${d} h${l} a${s},${s} 0 0 1 ${s},${s} v${v} a${s},${s} 0 0 1 -${s},${s} h-${l} a${s},${s} 0 0 1 -${s},-${s} v-${v} a${s},${s} 0 0 1 ${s},-${s} z`}function no(){const e=S("__overlaySvg");e&&e.remove()}function io(){const e=document.getElementById("driver-dummy-element");if(e)return e;let t=document.createElement("div");return t.id="driver-dummy-element",t.style.width="0",t.style.height="0",t.style.pointerEvents="none",t.style.opacity="0",t.style.position="fixed",t.style.top="50%",t.style.left="50%",document.body.appendChild(t),t}function Qt(e){const{element:t}=e;let n=typeof t=="string"?document.querySelector(t):t;n||(n=io()),ao(n,e)}function oo(){const e=S("__activeElement"),t=S("__activeStep");e&&(Cn(e),Qi(),Ln(e,t))}function ao(e,t){const n=Date.now(),o=S("__activeStep"),i=S("__activeElement")||e,r=!i||i===e,a=e.id==="driver-dummy-element",c=i.id==="driver-dummy-element",s=x("animate"),u=t.onHighlightStarted||x("onHighlightStarted"),d=(t==null?void 0:t.onHighlighted)||x("onHighlighted"),l=(o==null?void 0:o.onDeselected)||x("onDeselected"),v=x(),_=S();!r&&l&&l(c?void 0:i,o,{config:v,state:_}),u&&u(a?void 0:e,t,{config:v,state:_});const m=!r&&s;let h=!1;uo(),oe("previousStep",o),oe("previousElement",i),oe("activeStep",t),oe("activeElement",e);const f=()=>{if(S("__transitionCallback")!==f)return;const p=Date.now()-n,g=400-p<=400/2;t.popover&&g&&!h&&m&&(en(e,t),h=!0),x("animate")&&p<400?Xi(p,400,i,e):(Cn(e),d&&d(a?void 0:e,t,{config:x(),state:S()}),oe("__transitionCallback",void 0),oe("__previousStep",o),oe("__previousElement",i),oe("__activeStep",t),oe("__activeElement",e)),window.requestAnimationFrame(f)};oe("__transitionCallback",f),window.requestAnimationFrame(f),kn(e),!m&&t.popover&&en(e,t),i.classList.remove("driver-active-element","driver-no-interaction"),i.removeAttribute("aria-haspopup"),i.removeAttribute("aria-expanded"),i.removeAttribute("aria-controls"),x("disableActiveInteraction")&&e.classList.add("driver-no-interaction"),e.classList.add("driver-active-element"),e.setAttribute("aria-haspopup","dialog"),e.setAttribute("aria-expanded","true"),e.setAttribute("aria-controls","driver-popover-content")}function ro(){var e;(e=document.getElementById("driver-dummy-element"))==null||e.remove(),document.querySelectorAll(".driver-active-element").forEach(t=>{t.classList.remove("driver-active-element","driver-no-interaction"),t.removeAttribute("aria-haspopup"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-controls")})}function Ke(){const e=S("__resizeTimeout");e&&window.cancelAnimationFrame(e),oe("__resizeTimeout",window.requestAnimationFrame(oo))}function so(e){var t;if(!S("isInitialized")||!(e.key==="Tab"||e.keyCode===9))return;const n=S("__activeElement"),o=(t=S("popover"))==null?void 0:t.wrapper,i=xn([...o?[o]:[],...n?[n]:[]]),r=i[0],a=i[i.length-1];if(e.preventDefault(),e.shiftKey){const c=i[i.indexOf(document.activeElement)-1]||a;c==null||c.focus()}else{const c=i[i.indexOf(document.activeElement)+1]||r;c==null||c.focus()}}function Nn(e){var t;((t=x("allowKeyboardControl"))==null||t)&&(e.key==="Escape"?Ee("escapePress"):e.key==="ArrowRight"?Ee("arrowRightPress"):e.key==="ArrowLeft"&&Ee("arrowLeftPress"))}function Tn(e,t,n){const o=(i,r)=>{const a=i.target;e.contains(a)&&((!n||n(a))&&(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation()),r==null||r(i))};document.addEventListener("pointerdown",o,!0),document.addEventListener("mousedown",o,!0),document.addEventListener("pointerup",o,!0),document.addEventListener("mouseup",o,!0),document.addEventListener("click",i=>{o(i,t)},!0)}function lo(){window.addEventListener("keyup",Nn,!1),window.addEventListener("keydown",so,!1),window.addEventListener("resize",Ke),window.addEventListener("scroll",Ke)}function co(){window.removeEventListener("keyup",Nn),window.removeEventListener("resize",Ke),window.removeEventListener("scroll",Ke)}function uo(){const e=S("popover");e&&(e.wrapper.style.display="none")}function en(e,t){var n,o;let i=S("popover");i&&document.body.removeChild(i.wrapper),i=po(),document.body.appendChild(i.wrapper);const{title:r,description:a,showButtons:c,disableButtons:s,showProgress:u,nextBtnText:d=x("nextBtnText")||"Next &rarr;",prevBtnText:l=x("prevBtnText")||"&larr; Previous",progressText:v=x("progressText")||"{current} of {total}"}=t.popover||{};i.nextButton.innerHTML=d,i.previousButton.innerHTML=l,i.progress.innerHTML=v,r?(i.title.innerHTML=r,i.title.style.display="block"):i.title.style.display="none",a?(i.description.innerHTML=a,i.description.style.display="block"):i.description.style.display="none";const _=c||x("showButtons"),m=u||x("showProgress")||!1,h=(_==null?void 0:_.includes("next"))||(_==null?void 0:_.includes("previous"))||m;i.closeButton.style.display=_.includes("close")?"block":"none",h?(i.footer.style.display="flex",i.progress.style.display=m?"block":"none",i.nextButton.style.display=_.includes("next")?"block":"none",i.previousButton.style.display=_.includes("previous")?"block":"none"):i.footer.style.display="none";const f=s||x("disableButtons")||[];f!=null&&f.includes("next")&&(i.nextButton.disabled=!0,i.nextButton.classList.add("driver-popover-btn-disabled")),f!=null&&f.includes("previous")&&(i.previousButton.disabled=!0,i.previousButton.classList.add("driver-popover-btn-disabled")),f!=null&&f.includes("close")&&(i.closeButton.disabled=!0,i.closeButton.classList.add("driver-popover-btn-disabled"));const p=i.wrapper;p.style.display="block",p.style.left="",p.style.top="",p.style.bottom="",p.style.right="",p.id="driver-popover-content",p.setAttribute("role","dialog"),p.setAttribute("aria-labelledby","driver-popover-title"),p.setAttribute("aria-describedby","driver-popover-description");const g=i.arrow;g.className="driver-popover-arrow";const b=((n=t.popover)==null?void 0:n.popoverClass)||x("popoverClass")||"";p.className=`driver-popover ${b}`.trim(),Tn(i.wrapper,D=>{var G,Q,ne;const B=D.target,j=((G=t.popover)==null?void 0:G.onNextClick)||x("onNextClick"),re=((Q=t.popover)==null?void 0:Q.onPrevClick)||x("onPrevClick"),ve=((ne=t.popover)==null?void 0:ne.onCloseClick)||x("onCloseClick");if(B.classList.contains("driver-popover-next-btn"))return j?j(e,t,{config:x(),state:S()}):Ee("nextClick");if(B.classList.contains("driver-popover-prev-btn"))return re?re(e,t,{config:x(),state:S()}):Ee("prevClick");if(B.classList.contains("driver-popover-close-btn"))return ve?ve(e,t,{config:x(),state:S()}):Ee("closeClick")},D=>!(i!=null&&i.description.contains(D))&&!(i!=null&&i.title.contains(D))&&typeof D.className=="string"&&D.className.includes("driver-popover")),oe("popover",i);const $=((o=t.popover)==null?void 0:o.onPopoverRender)||x("onPopoverRender");$&&$(i,{config:x(),state:S()}),Ln(e,t),kn(p);const k=e.classList.contains("driver-dummy-element"),z=xn([p,...k?[]:[e]]);z.length>0&&z[0].focus()}function An(){const e=S("popover");if(!(e!=null&&e.wrapper))return;const t=e.wrapper.getBoundingClientRect(),n=x("stagePadding")||0,o=x("popoverOffset")||0;return{width:t.width+n+o,height:t.height+n+o,realWidth:t.width,realHeight:t.height}}function tn(e,t){const{elementDimensions:n,popoverDimensions:o,popoverPadding:i,popoverArrowDimensions:r}=t;return e==="start"?Math.max(Math.min(n.top-i,window.innerHeight-o.realHeight-r.width),r.width):e==="end"?Math.max(Math.min(n.top-(o==null?void 0:o.realHeight)+n.height+i,window.innerHeight-(o==null?void 0:o.realHeight)-r.width),r.width):e==="center"?Math.max(Math.min(n.top+n.height/2-(o==null?void 0:o.realHeight)/2,window.innerHeight-(o==null?void 0:o.realHeight)-r.width),r.width):0}function nn(e,t){const{elementDimensions:n,popoverDimensions:o,popoverPadding:i,popoverArrowDimensions:r}=t;return e==="start"?Math.max(Math.min(n.left-i,window.innerWidth-o.realWidth-r.width),r.width):e==="end"?Math.max(Math.min(n.left-(o==null?void 0:o.realWidth)+n.width+i,window.innerWidth-(o==null?void 0:o.realWidth)-r.width),r.width):e==="center"?Math.max(Math.min(n.left+n.width/2-(o==null?void 0:o.realWidth)/2,window.innerWidth-(o==null?void 0:o.realWidth)-r.width),r.width):0}function Ln(e,t){const n=S("popover");if(!n)return;const{align:o="start",side:i="left"}=(t==null?void 0:t.popover)||{},r=o,a=e.id==="driver-dummy-element"?"over":i,c=x("stagePadding")||0,s=An(),u=n.arrow.getBoundingClientRect(),d=e.getBoundingClientRect(),l=d.top-s.height;let v=l>=0;const _=window.innerHeight-(d.bottom+s.height);let m=_>=0;const h=d.left-s.width;let f=h>=0;const p=window.innerWidth-(d.right+s.width);let g=p>=0;const b=!v&&!m&&!f&&!g;let $=a;if(a==="top"&&v?g=f=m=!1:a==="bottom"&&m?g=f=v=!1:a==="left"&&f?g=v=m=!1:a==="right"&&g&&(f=v=m=!1),a==="over"){const k=window.innerWidth/2-s.realWidth/2,z=window.innerHeight/2-s.realHeight/2;n.wrapper.style.left=`${k}px`,n.wrapper.style.right="auto",n.wrapper.style.top=`${z}px`,n.wrapper.style.bottom="auto"}else if(b){const k=window.innerWidth/2-(s==null?void 0:s.realWidth)/2,z=10;n.wrapper.style.left=`${k}px`,n.wrapper.style.right="auto",n.wrapper.style.bottom=`${z}px`,n.wrapper.style.top="auto"}else if(f){const k=Math.min(h,window.innerWidth-(s==null?void 0:s.realWidth)-u.width),z=tn(r,{elementDimensions:d,popoverDimensions:s,popoverPadding:c,popoverArrowDimensions:u});n.wrapper.style.left=`${k}px`,n.wrapper.style.top=`${z}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",$="left"}else if(g){const k=Math.min(p,window.innerWidth-(s==null?void 0:s.realWidth)-u.width),z=tn(r,{elementDimensions:d,popoverDimensions:s,popoverPadding:c,popoverArrowDimensions:u});n.wrapper.style.right=`${k}px`,n.wrapper.style.top=`${z}px`,n.wrapper.style.bottom="auto",n.wrapper.style.left="auto",$="right"}else if(v){const k=Math.min(l,window.innerHeight-s.realHeight-u.width);let z=nn(r,{elementDimensions:d,popoverDimensions:s,popoverPadding:c,popoverArrowDimensions:u});n.wrapper.style.top=`${k}px`,n.wrapper.style.left=`${z}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",$="top"}else if(m){const k=Math.min(_,window.innerHeight-(s==null?void 0:s.realHeight)-u.width);let z=nn(r,{elementDimensions:d,popoverDimensions:s,popoverPadding:c,popoverArrowDimensions:u});n.wrapper.style.left=`${z}px`,n.wrapper.style.bottom=`${k}px`,n.wrapper.style.top="auto",n.wrapper.style.right="auto",$="bottom"}b?n.arrow.classList.add("driver-popover-arrow-none"):vo(r,$,e)}function vo(e,t,n){const o=S("popover");if(!o)return;const i=n.getBoundingClientRect(),r=An(),a=o.arrow,c=r.width,s=window.innerWidth,u=i.width,d=i.left,l=r.height,v=window.innerHeight,_=i.top,m=i.height;a.className="driver-popover-arrow";let h=t,f=e;t==="top"?(d+u<=0?(h="right",f="end"):d+u-c<=0&&(h="top",f="start"),d>=s?(h="left",f="end"):d+c>=s&&(h="top",f="end")):t==="bottom"?(d+u<=0?(h="right",f="start"):d+u-c<=0&&(h="bottom",f="start"),d>=s?(h="left",f="start"):d+c>=s&&(h="bottom",f="end")):t==="left"?(_+m<=0?(h="bottom",f="end"):_+m-l<=0&&(h="left",f="start"),_>=v?(h="top",f="end"):_+l>=v&&(h="left",f="end")):t==="right"&&(_+m<=0?(h="bottom",f="start"):_+m-l<=0&&(h="right",f="start"),_>=v?(h="top",f="start"):_+l>=v&&(h="right",f="end")),h?(a.classList.add(`driver-popover-arrow-side-${h}`),a.classList.add(`driver-popover-arrow-align-${f}`)):a.classList.add("driver-popover-arrow-none")}function po(){const e=document.createElement("div");e.classList.add("driver-popover");const t=document.createElement("div");t.classList.add("driver-popover-arrow");const n=document.createElement("header");n.id="driver-popover-title",n.classList.add("driver-popover-title"),n.style.display="none",n.innerText="Popover Title";const o=document.createElement("div");o.id="driver-popover-description",o.classList.add("driver-popover-description"),o.style.display="none",o.innerText="Popover description is here";const i=document.createElement("button");i.type="button",i.classList.add("driver-popover-close-btn"),i.setAttribute("aria-label","Close"),i.innerHTML="&times;";const r=document.createElement("footer");r.classList.add("driver-popover-footer");const a=document.createElement("span");a.classList.add("driver-popover-progress-text"),a.innerText="";const c=document.createElement("span");c.classList.add("driver-popover-navigation-btns");const s=document.createElement("button");s.type="button",s.classList.add("driver-popover-prev-btn"),s.innerHTML="&larr; Previous";const u=document.createElement("button");return u.type="button",u.classList.add("driver-popover-next-btn"),u.innerHTML="Next &rarr;",c.appendChild(s),c.appendChild(u),r.appendChild(a),r.appendChild(c),e.appendChild(i),e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(r),{wrapper:e,arrow:t,title:n,description:o,footer:r,previousButton:s,nextButton:u,closeButton:i,footerButtons:c,progress:a}}function fo(){var e;const t=S("popover");t&&((e=t.wrapper.parentElement)==null||e.removeChild(t.wrapper))}function _o(e={}){pt(e);function t(){x("allowClose")&&u()}function n(){const d=S("activeIndex"),l=x("steps")||[];if(typeof d>"u")return;const v=d+1;l[v]?s(v):u()}function o(){const d=S("activeIndex"),l=x("steps")||[];if(typeof d>"u")return;const v=d-1;l[v]?s(v):u()}function i(d){(x("steps")||[])[d]?s(d):u()}function r(){var d;if(S("__transitionCallback"))return;const l=S("activeIndex"),v=S("__activeStep"),_=S("__activeElement");if(typeof l>"u"||typeof v>"u"||typeof S("activeIndex")>"u")return;const m=((d=v.popover)==null?void 0:d.onPrevClick)||x("onPrevClick");if(m)return m(_,v,{config:x(),state:S()});o()}function a(){var d;if(S("__transitionCallback"))return;const l=S("activeIndex"),v=S("__activeStep"),_=S("__activeElement");if(typeof l>"u"||typeof v>"u")return;const m=((d=v.popover)==null?void 0:d.onNextClick)||x("onNextClick");if(m)return m(_,v,{config:x(),state:S()});n()}function c(){S("isInitialized")||(oe("isInitialized",!0),document.body.classList.add("driver-active",x("animate")?"driver-fade":"driver-simple"),lo(),Qe("overlayClick",t),Qe("escapePress",t),Qe("arrowLeftPress",r),Qe("arrowRightPress",a))}function s(d=0){var l,v,_,m,h,f,p,g;const b=x("steps");if(!b){console.error("No steps to drive through"),u();return}if(!b[d]){u();return}oe("__activeOnDestroyed",document.activeElement),oe("activeIndex",d);const $=b[d],k=b[d+1],z=b[d-1],D=((l=$.popover)==null?void 0:l.doneBtnText)||x("doneBtnText")||"Done",G=x("allowClose"),Q=typeof((v=$.popover)==null?void 0:v.showProgress)<"u"?(_=$.popover)==null?void 0:_.showProgress:x("showProgress"),ne=(((m=$.popover)==null?void 0:m.progressText)||x("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${d+1}`).replace("{{total}}",`${b.length}`),B=((h=$.popover)==null?void 0:h.showButtons)||x("showButtons"),j=["next","previous",...G?["close"]:[]].filter(F=>!(B!=null&&B.length)||B.includes(F)),re=((f=$.popover)==null?void 0:f.onNextClick)||x("onNextClick"),ve=((p=$.popover)==null?void 0:p.onPrevClick)||x("onPrevClick"),pe=((g=$.popover)==null?void 0:g.onCloseClick)||x("onCloseClick");Qt({...$,popover:{showButtons:j,nextBtnText:k?void 0:D,disableButtons:[...z?[]:["previous"]],showProgress:Q,progressText:ne,onNextClick:re||(()=>{k?s(d+1):u()}),onPrevClick:ve||(()=>{s(d-1)}),onCloseClick:pe||(()=>{u()}),...($==null?void 0:$.popover)||{}}})}function u(d=!0){const l=S("__activeElement"),v=S("__activeStep"),_=S("__activeOnDestroyed"),m=x("onDestroyStarted");if(d&&m){const p=!l||(l==null?void 0:l.id)==="driver-dummy-element";m(p?void 0:l,v,{config:x(),state:S()});return}const h=(v==null?void 0:v.onDeselected)||x("onDeselected"),f=x("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),co(),fo(),ro(),no(),Zi(),Xt(),l&&v){const p=l.id==="driver-dummy-element";h&&h(p?void 0:l,v,{config:x(),state:S()}),f&&f(p?void 0:l,v,{config:x(),state:S()})}_&&_.focus()}return{isActive:()=>S("isInitialized")||!1,refresh:Ke,drive:(d=0)=>{c(),s(d)},setConfig:pt,setSteps:d=>{Xt(),pt({...x(),steps:d})},getConfig:x,getState:S,getActiveIndex:()=>S("activeIndex"),isFirstStep:()=>S("activeIndex")===0,isLastStep:()=>{const d=x("steps")||[],l=S("activeIndex");return l!==void 0&&l===d.length-1},getActiveStep:()=>S("activeStep"),getActiveElement:()=>S("activeElement"),getPreviousElement:()=>S("previousElement"),getPreviousStep:()=>S("previousStep"),moveNext:n,movePrevious:o,moveTo:i,hasNextStep:()=>{const d=x("steps")||[],l=S("activeIndex");return l!==void 0&&d[l+1]},hasPreviousStep:()=>{const d=x("steps")||[],l=S("activeIndex");return l!==void 0&&d[l-1]},highlight:d=>{c(),Qt({...d,popover:d.popover?{showButtons:[],showProgress:!1,progressText:"",...d.popover}:void 0})},destroy:()=>{u(!1)}}}/**
 * @license lucide-svelte v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var mo=Wn("<svg><!><!></svg>");function de(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]),o=te(n,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ne(t,!1);let i=Me(t,"name",8,void 0),r=Me(t,"color",8,"currentColor"),a=Me(t,"size",8,24),c=Me(t,"strokeWidth",8,2),s=Me(t,"absoluteStrokeWidth",8,!1),u=Me(t,"iconNode",24,()=>[]);const d=(...h)=>h.filter((f,p,g)=>!!f&&g.indexOf(f)===p).join(" ");vn();var l=mo();let v;var _=y(l);Nt(_,1,u,fn,(h,f)=>{let p=()=>C(f)[0],g=()=>C(f)[1];var b=q(),$=W(b);xi($,p,!0,(k,z)=>{let D;H(()=>D=Jt(k,D,{...g()},void 0,k.namespaceURI===un,k.nodeName.includes("-")))}),N(h,b)});var m=M(_);ae(m,t,"default",{}),w(l),H(()=>v=Jt(l,v,{...ho,...o,width:a(),height:a(),stroke:r(),"stroke-width":s()?Number(c())*24/Number(a()):c(),class:d("lucide-icon","lucide",i()?`lucide-${i()}`:"",n.class)},void 0,!0)),N(e,l),Te()}function go(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"arrow-right"},()=>n,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function bo(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"circle-help"},()=>n,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function mt(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"clock-alert"},()=>n,{iconNode:[["path",{d:"M12 6v6l4 2"}],["path",{d:"M16 21.16a10 10 0 1 1 5-13.516"}],["path",{d:"M20 11.5v6"}],["path",{d:"M20 21.5h.01"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function wo(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"download"},()=>n,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"7 10 12 15 17 10"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function gt(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"hourglass"},()=>n,{iconNode:[["path",{d:"M5 22h14"}],["path",{d:"M5 2h14"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function yo(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"menu"},()=>n,{iconNode:[["line",{x1:"4",x2:"20",y1:"12",y2:"12"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function $o(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"minus"},()=>n,{iconNode:[["path",{d:"M5 12h14"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function xo(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"moon"},()=>n,{iconNode:[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function ko(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"pencil"},()=>n,{iconNode:[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function Co(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"play"},()=>n,{iconNode:[["polygon",{points:"6 3 20 12 6 21 6 3"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function Mn(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"plus"},()=>n,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function bt(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"skull"},()=>n,{iconNode:[["path",{d:"m12.5 17-.5-1-.5 1h1z"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"9",cy:"12",r:"1"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function So(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"sun"},()=>n,{iconNode:[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function Eo(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"trash"},()=>n,{iconNode:[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function No(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"upload"},()=>n,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"17 8 12 3 7 8"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function To(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"user-round"},()=>n,{iconNode:[["circle",{cx:"12",cy:"8",r:"5"}],["path",{d:"M20 21a8 8 0 0 0-16 0"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}function Ao(e,t){const n=te(t,["children","$$slots","$$events","$$legacy"]);de(e,ce({name:"x"},()=>n,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(i,r)=>{var a=q(),c=W(a);ae(c,t,"default",{}),N(i,a)},$$slots:{default:!0}}))}var Lo=(e,t)=>t(),Mo=K('<div id="ThemeToggle"><button class="btn btn-ghost"><!></button></div>');function Do(e,t){Ne(t,!0);const n={Light:"LIGHT",Dark:"DARK"},o={[n.Light]:"light",[n.Dark]:"dark"},i="theme_mode",r=n.Light;Et(()=>{const v=wn(i);ge(a,le(v||r))});let a=Ie(le(n.Light));St(()=>{c(o[C(a)]),bn(i,C(a))});function c(v){document.documentElement.setAttribute("data-theme",v)}function s(){ge(a,le(C(a)===n.Light?n.Dark:n.Light))}var u=Mo(),d=y(u);d.__click=[Lo,s];var l=y(d);Z(l,()=>C(a)===n.Light,v=>{xo(v,{})},v=>{So(v,{})}),w(d),w(u),N(e,u),Te()}Pe(["click"]);function zo(e){let t=e.currentTarget;t&&t.matches(":focus")&&setTimeout(function(){t.blur()},0)}var Io=(e,t)=>t(),Po=(e,t)=>t(),Bo=K('<div class="navbar fixed top-0 z-[1] border-b-4 border-primary-content bg-primary-content/20 backdrop-blur-xl"><div class="flex-1"><div class="btn btn-ghost text-xl sm:hidden">ST</div> <div class="btn btn-ghost hidden text-xl sm:flex"> </div></div> <div class="flex-none space-x-2"><!> <button class="btn btn-ghost"><!></button> <div class="dropdown dropdown-end"><div tabindex="-1" role="button" class="btn btn-ghost"><!></div> <ul tabindex="-1" class="menu dropdown-content z-[10] w-[350px] rounded-box bg-primary-content p-2 text-primary shadow"><li><label id="uploadButton" for="battleScene" class="text-xl"><!> <span> </span></label> <input type="file" id="battleScene" name="battleScene" accept="application/json" class="battle-scene-file-input file-input w-full max-w-xs svelte-ekzg43"></li> <li><button id="downloadBtn"><!> <span class="text-xl"> </span></button></li></ul></div></div></div>');function Ro(e,t){Ne(t,!1);const n=rt(),o=()=>qe(st,"$_",n),i=F=>{const R=F.target;if(R&&R.files){const Ae=R.files[0];Ae&&Ki(Ae).then(ke=>{yn(ke)}),R.value=""}},r=()=>{let F=ee.name.toLowerCase().trim().replace(/\s+/g,"_");Gi(ee,F)},a=F=>{let R=F==null?void 0:F.closest(".dropdown");R==null||R.classList.add("dropdown-open")},c=F=>{let R=F==null?void 0:F.closest(".dropdown");R==null||R.classList.remove("dropdown-open")},s=()=>{_o({showProgress:!0,nextBtnText:o()("tour_btn_next"),prevBtnText:o()("tour_btn_prev"),doneBtnText:o()("tout_btn_done"),progressText:o()("tour_progress_text"),steps:[{element:"#sceneTitle",popover:{title:o()("scene_title"),description:o()("scene_title_description")}},{element:"#combatantsTable",popover:{title:o()("combatants_list"),description:o()("combatants_list_description")}},{element:"#editSceneBtn",popover:{title:o()("edit_scene"),description:o()("edit_scene_description")}},{element:"#runSceneBtn",popover:{title:o()("run_scene"),description:o()("run_scene_description")}},{element:"#downloadBtn",popover:{title:o()("download_scene"),description:o()("download_scene_description")},onHighlightStarted:R=>{a(R)},onDeselected:R=>{c(R)}},{element:"#uploadButton",popover:{title:o()("upload_scene"),description:o()("upload_scene_description")},onHighlightStarted:R=>{a(R)},onDeselected:R=>{c(R)}},{element:"#ThemeToggle",popover:{title:o()("tour.change_theme.title"),description:o()("tour.change_theme.content")}},{element:"#ToggleLanguageBtn",popover:{title:o()("tour.change_langauge.title"),description:o()("tour.change_langauge.content")}}]}).drive()};vn();var u=Bo(),d=y(u),l=M(y(d),2),v=y(l,!0);H(()=>ue(v,o()("app_title"))),w(l),w(d);var _=M(d,2),m=y(_);Do(m,{});var h=M(m,2);h.__click=[Io,s];var f=y(h);bo(f,{}),w(h);var p=M(h,2),g=y(p);g.__mousedown=[zo];var b=y(g);yo(b,{}),w(g);var $=M(g,2),k=y($),z=y(k),D=y(z);No(D,{});var G=M(D,2),Q=y(G,!0);H(()=>ue(Q,o()("upload_scene"))),w(G),w(z);var ne=M(z,2);ne.__change=i,w(k);var B=M(k,2),j=y(B);j.__click=[Po,r];var re=y(j);wo(re,{});var ve=M(re,2),pe=y(ve,!0);H(()=>ue(pe,o()("download_scene"))),w(ve),w(j),w(B),w($),w(p),w(_),w(u),N(e,u),Te()}Pe(["click","mousedown","change"]);const Wo=e=>e;function Oo(e){const t=e-1;return t*t*t+1}function ft(e,{delay:t=0,duration:n=400,easing:o=Wo}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function Dn(e,{delay:t=0,duration:n=400,easing:o=Oo,axis:i="y"}={}){const r=getComputedStyle(e),a=+r.opacity,c=i==="y"?"height":"width",s=parseFloat(r[c]),u=i==="y"?["top","bottom"]:["left","right"],d=u.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),l=parseFloat(r[`padding${d[0]}`]),v=parseFloat(r[`padding${d[1]}`]),_=parseFloat(r[`margin${d[0]}`]),m=parseFloat(r[`margin${d[1]}`]),h=parseFloat(r[`border${d[0]}Width`]),f=parseFloat(r[`border${d[1]}Width`]);return{delay:t,duration:n,easing:o,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*a};${c}: ${p*s}px;padding-${u[0]}: ${p*l}px;padding-${u[1]}: ${p*v}px;margin-${u[0]}: ${p*_}px;margin-${u[1]}: ${p*m}px;border-${u[0]}-width: ${p*h}px;border-${u[1]}-width: ${p*f}px;`}}function Ho(e){const t=e-1;return t*t*t+1}function Fo(e,{from:t,to:n},o={}){var i=getComputedStyle(e),r=Uo(e),a=i.transform==="none"?"":i.transform,[c,s]=i.transformOrigin.split(" ").map(parseFloat),u=t.width/n.width,d=t.height/n.height,l=(t.left+u*c-(n.left+c))/r,v=(t.top+d*s-(n.top+s))/r,{delay:_=0,duration:m=f=>Math.sqrt(f)*120,easing:h=Ho}=o;return{delay:_,duration:typeof m=="function"?m(Math.sqrt(l*l+v*v)):m,easing:h,css:(f,p)=>{var g=p*l,b=p*v,$=f+p*u,k=f+p*d;return`transform: ${a} scale(${$}, ${k}) translate(${g}px, ${b}px);`}}}function Uo(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,n=1;t!==null;)n*=+getComputedStyle(t).zoom,t=t.parentElement;return n}var Jo=K("(<!>)",1),qo=K("(<!>)",1),Ko=K("(<!>)",1),Go=(e,t,n)=>t(C(n)),Vo=K('<div class="absolute bottom-1 right-1"><!></div>'),jo=K('<button class="btn relative aspect-square h-full w-full text-4xl"><!> <!></button>'),Yo=(e,t)=>t(),Zo=K('<div class="tooltip aspect-square h-full w-full"><button class="btn h-full w-full"><!></button></div>'),Xo=(e,t)=>t(),Qo=K('<div class="tooltip aspect-square h-full w-full"><button class="btn btn-outline btn-info aspect-square h-full w-full"><!></button></div>'),ea=(e,t)=>t(),ta=K('<div class="tooltip aspect-square h-full w-full"><button class="btn btn-outline btn-info aspect-square h-full w-full"><!></button></div>'),na=(e,t)=>t(),ia=K('<div class="tooltip aspect-square h-full w-full"><button class="btn btn-outline btn-error aspect-square h-full w-full"><!></button></div>'),oa=K('<dialog id="tickSelectionModal" class="modal"><div class="max-w-l modal-box w-11/12 border-4 border-accent"><form method="dialog"><button class="btn btn-circle btn-ghost btn-sm absolute right-2 top-2"><!></button></form> <h3 class="mb-5 text-2xl font-bold"><div class="flex"> <!></div></h3> <div class="grid grid-cols-5 gap-1"></div> <div class="mt-1 grid grid-cols-5 gap-1"><div><!></div> <div></div> <div><!></div> <div><!></div> <div><!></div></div></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog>');function aa(e,t){Ne(t,!0);const n=rt(),o=()=>qe(st,"$_",n);let i,r=Ie(!1),a=Ie(le([]));function c(){ge(r,!1),ge(a,le(l())),i.showModal()}function s(){i.close()}function u(T){s(),P.activeCombatant&&(T.mode==="relative"?Hi(P.activeCombatant,T.number):Fi(P.activeCombatant,T.number),Ze())}function d(){ge(r,!C(r)),ge(a,le(l()))}function l(){const T=P.activeCombatant;return T?T.combatState===I.Active?f(C(r),T.initiative,ee.combatants):h():[]}function v(){s(),P.activeCombatant&&(Ji(P.activeCombatant),Ze())}function _(){s(),P.activeCombatant&&(Ui(P.activeCombatant),Ze())}function m(){s(),P.activeCombatant&&(qi(P.activeCombatant),Ze())}function h(){let T=$n();const L=P.mostRecentTick;if(L>T||L===1/0||T===1/0)return console.error("Tick range invalid. First tick must not be larger than last tick. Neither must be Infinity.",L,T),[{number:0,hasCombatants:!1,mode:"absolute"}];const E=[];for(let A=L;A<=T;(A+=1)-1)E.push({number:A,hasCombatants:p(A,ee.combatants.filter(Y=>{var O;return Y.id!==((O=P.activeCombatant)==null?void 0:O.id)})),mode:"absolute"});return E}function f(T,L,E){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20].map(A=>{const Y=T?-A:A,O=Y+L;return{number:Y,hasCombatants:p(O,E),mode:"relative"}})}function p(T,L){return L.some(E=>E.initiative===T)}var g=oa(),b=y(g),$=y(b),k=y($),z=y(k);Ao(z,{size:24}),w(k),w($);var D=M($,2),G=y(D),Q=y(G);H(()=>{var T;return ue(Q,`${o()("tick_selection_modal_header",{values:{combatantName:(T=P.activeCombatant)==null?void 0:T.name}})??""} `)});var ne=M(Q);Z(ne,()=>{var T;return((T=P.activeCombatant)==null?void 0:T.combatState)===I.Active},T=>{var L=Ve();H(()=>{var E;return ue(L,`(${((E=P.activeCombatant)==null?void 0:E.initiative)??""})`)}),N(T,L)},T=>{var L=q(),E=W(L);Z(E,()=>{var A;return((A=P.activeCombatant)==null?void 0:A.combatState)===I.Dead},A=>{var Y=Jo(),O=M(W(Y));bt(O,{class:"mt-0.5 text-error",strokeWidth:"1",size:"32"}),Ce(),N(A,Y)},A=>{var Y=q(),O=W(Y);Z(O,()=>{var U;return((U=P.activeCombatant)==null?void 0:U.combatState)===I.Expecting},U=>{var X=qo(),fe=M(W(X));mt(fe,{class:"mt-0.5 text-info",strokeWidth:"1",size:"32"}),Ce(),N(U,X)},U=>{var X=q(),fe=W(X);Z(fe,()=>{var ie;return((ie=P.activeCombatant)==null?void 0:ie.combatState)===I.Waiting},ie=>{var Le=Ko(),_e=M(W(Le));gt(_e,{class:"mt-0.5 text-info",strokeWidth:"1",size:"32"}),Ce(),N(ie,Le)},null,!0),N(U,X)},!0),N(A,Y)},!0),N(T,L)}),w(G),w(D);var B=M(D,2);Nt(B,21,()=>C(a),fn,(T,L)=>{var E=jo();E.__click=[Go,u,L];var A=y(E);Z(A,()=>C(L).mode==="relative",O=>{var U=q(),X=W(U);Z(X,()=>C(r),fe=>{var ie=Ve();H(()=>ue(ie,`-${-C(L).number}`)),N(fe,ie)},fe=>{var ie=Ve();H(()=>ue(ie,`+${C(L).number??""}`)),N(fe,ie)}),N(O,U)},O=>{var U=Ve();H(()=>ue(U,C(L).number)),N(O,U)});var Y=M(A,2);Z(Y,()=>C(L).hasCombatants,O=>{var U=Vo(),X=y(U);To(X,{class:"text-accent"}),w(U),Fe(3,U,()=>Dn),N(O,U)}),w(E),N(T,E)}),w(B);var j=M(B,2),re=y(j),ve=y(re);Z(ve,()=>{var T;return((T=P.activeCombatant)==null?void 0:T.combatState)===I.Active},T=>{var L=Zo();H(()=>be(L,"data-tip",o()("tickselection.tooltip.negation")));var E=y(L);E.__click=[Yo,d];var A=y(E);Z(A,()=>C(r),Y=>{Mn(Y,{size:48})},Y=>{$o(Y,{size:48})}),w(E),w(L),H(()=>He(E,"btn-active",C(r))),N(T,L)}),w(re);var pe=M(re,4),F=y(pe);Z(F,()=>{var T;return((T=P.activeCombatant)==null?void 0:T.combatState)!==I.Expecting},T=>{var L=Qo();H(()=>be(L,"data-tip",o()("tickselection.tooltip.set_state_expecting")));var E=y(L);E.__click=[Xo,v];var A=y(E);mt(A,{size:48,strokeWidth:1}),w(E),w(L),N(T,L)}),w(pe);var R=M(pe,2),Ae=y(R);Z(Ae,()=>{var T;return((T=P.activeCombatant)==null?void 0:T.combatState)!==I.Waiting},T=>{var L=ta();H(()=>be(L,"data-tip",o()("tickselection.tooltip.set_state_waiting")));var E=y(L);E.__click=[ea,_];var A=y(E);gt(A,{size:48,strokeWidth:1}),w(E),w(L),N(T,L)}),w(R);var ke=M(R,2),lt=y(ke);return Z(lt,()=>{var T;return((T=P.activeCombatant)==null?void 0:T.combatState)!==I.Dead},T=>{var L=ia();H(()=>be(L,"data-tip",o()("tickselection.tooltip.set_state_dead")));var E=y(L);E.__click=[na,m];var A=y(E);bt(A,{size:48,strokeWidth:1}),w(E),w(L),N(T,L)}),w(ke),w(j),w(b),Ce(2),w(g),et(g,T=>i=T,()=>i),N(e,g),Te({show:c})}Pe(["click"]);function on(e,t,n){e.key==="Enter"&&t(C(n))}function ra(e,t,n){ge(t,le(n.Editing))}var sa=(e,t,n)=>t(C(n)),la=K(`<div class="col-span-3 grid grid-cols-subgrid items-center gap-2 rounded-b-lg bg-primary-content px-6 pb-4"><div><input type="text" class="input input-bordered w-full text-3xl"></div> <div><input type="number" class="
							input
							input-bordered
							w-20
							px-1
							text-center
							text-3xl svelte-162bbjp"></div> <div class="w-16 justify-center"><button class="btn btn-primary"><!></button></div></div>`),ca=(e,t,n)=>t(C(n)),da=()=>{},ua=()=>{},va=K('<div class="absolute -left-4 top-2.5"><!></div>'),pa=K('<input type="number">'),fa=K("<div><!></div>"),_a=(e,t,n)=>t(C(n).id),ha=K('<button class="btn btn-outline btn-error"><!></button>'),ma=K("<div></div>"),ga=K('<div role="button" tabindex="0"><div class="relative"><input type="text"> <!></div> <div><!></div> <div class="w-16 justify-center"><!></div></div>'),ba=K(`<!> <div class="
		m-auto
		mt-16
		h-full
		w-full
		px-2
		py-4
		md:w-11/12
		lg:w-10/12
		xl:w-10/12
		2xl:w-[1200px]"><div class="navbar bg-base-100 px-0"><div id="sceneTitle" class="flex-1"><input type="text" placeholder="Scene name..."></div> <div class="flex-none space-x-2"><button id="runSceneBtn" class="btn btn-primary text-xl"><!> <span class="hidden lg:flex"> </span></button> <button id="editSceneBtn" class="btn btn-primary text-xl"><!> <span class="hidden lg:flex"> </span></button></div></div> <div id="combatantsTable" class="mt-4 grid w-full grid-cols-[99fr_1fr_1fr]"><div class="col-span-3 grid grid-cols-subgrid items-center gap-2 bg-primary-content px-6 py-2 text-xl font-bold"><div> </div> <div id="initiativeColumn"> </div> <div></div></div> <!> <div class="my-2"></div> <!></div></div>`,1);function wa(e,t){Ne(t,!0);const n=rt(),o=()=>qe(st,"$_",n),i={Editing:"EDITING",Running:"RUNNING"},r=i.Running;let a=Ie(le(Yt())),c=ui(Wi),s=Ie(le(r)),u,d;function l(E){E.name!==""&&(ee.combatants.push(E),ge(a,le(Yt())),u.focus(),u.select())}function v(E){ee.combatants=ee.combatants.filter(A=>A.id!==E)}function _(){ge(s,le(i.Running)),P.mostRecentTick=$n(),xe()}function m(E){C(s)===i.Running&&(P.activeCombatant=E,d.show())}function h(E){(E==null?void 0:E.target).select()}var f=ba(),p=W(f);et(aa(p,{}),E=>d=E,()=>d);var g=M(p,2),b=y(g),$=y(b),k=y($);We(k),w($);var z=M($,2),D=y(z);D.__click=_;var G=y(D);Co(G,{});var Q=M(G,2),ne=y(Q,!0);H(()=>ue(ne,o()("run_scene_button"))),w(Q),w(D);var B=M(D,2);B.__click=[ra,s,i];var j=y(B);ko(j,{});var re=M(j,2),ve=y(re,!0);H(()=>ue(ve,o()("edit_scene_button"))),w(re),w(B),w(z),w(b);var pe=M(b,2),F=y(pe),R=y(F),Ae=y(R,!0);H(()=>ue(Ae,o()("column_name"))),w(R);var ke=M(R,2),lt=y(ke,!0);H(()=>ue(lt,o()("column_initiative"))),w(ke),Ce(2),w(F);var T=M(F,2);Z(T,()=>C(s)===i.Editing,E=>{var A=la(),Y=y(A),O=y(Y);We(O),H(()=>be(O,"placeholder",o()("placeholder_name"))),O.__keydown=[on,l,a],et(O,_e=>u=_e,()=>u),w(Y);var U=M(Y,2),X=y(U);We(X),H(()=>be(X,"placeholder",o()("placeholder_initiative"))),X.__keydown=[on,l,a],w(U);var fe=M(U,2),ie=y(fe);ie.__click=[sa,l,a];var Le=y(ie);Mn(Le,{strokeWidth:3}),w(ie),w(fe),w(A),Oe(O,()=>C(a).name,_e=>C(a).name=_e),Rt("focus",X,_e=>h(_e)),Oe(X,()=>C(a).initiative,_e=>C(a).initiative=_e),Fe(3,A,()=>Dn),N(E,A)});var L=M(T,4);Nt(L,27,()=>ee.combatants,E=>E.id,(E,A,Y)=>{var O=ga();O.__click=[ca,m,A],O.__keydown=[da],O.__keyup=[ua];var U=y(O),X=y(U);We(X);var fe=M(X,2);Z(fe,()=>C(A)===C(c)&&C(s)===i.Running,he=>{var J=va(),me=y(J);go(me,{size:"32"}),w(J),Fe(1,J,()=>ft,()=>({duration:200})),N(he,J)}),w(U);var ie=M(U,2),Le=y(ie);Z(Le,()=>C(A).combatState===I.Active||C(s)===i.Editing,he=>{var J=pa();We(J),H(()=>{J.disabled=C(s)===i.Running,je(J,`
								input
								${(C(s)===i.Editing?"input-bordered":"disabled input-ghost")??""}
								w-20
								px-1
								text-center
								text-3xl svelte-162bbjp`)}),Rt("focus",J,me=>h(me)),Oe(J,()=>C(A).initiative,me=>C(A).initiative=me),N(he,J)},he=>{var J=fa(),me=y(J);Z(me,()=>C(A).combatState===I.Waiting,Be=>{gt(Be,{class:"text-info text-center w-full",size:48,strokeWidth:1})},Be=>{var Ge=q(),In=W(Ge);Z(In,()=>C(A).combatState===I.Expecting,ct=>{mt(ct,{class:"text-info text-center w-full",size:48,strokeWidth:1})},ct=>{var Tt=q(),Pn=W(Tt);Z(Pn,()=>C(A).combatState===I.Dead,Bn=>{bt(Bn,{class:"text-error text-center w-full",size:48,strokeWidth:1})},null,!0),N(ct,Tt)},!0),N(Be,Ge)}),w(J),Fe(1,J,()=>ft,()=>({duration:200})),N(he,J)}),w(ie);var _e=M(ie,2),zn=y(_e);Z(zn,()=>C(s)===i.Editing,he=>{var J=ha();J.__click=[_a,v,A];var me=y(J);Eo(me,{}),w(J),Fe(1,J,()=>ft,()=>({duration:200})),N(he,J)},he=>{var J=q(),me=W(J);Z(me,()=>C(s)===i.Running,Be=>{var Ge=ma();N(Be,Ge)},null,!0),N(he,J)}),w(_e),w(O),H(()=>{je(O,`
					col-span-3
					grid
					grid-cols-subgrid
					items-center
					gap-2
					rounded-none
					p-6
					focus:outline-none
					${(C(s)===i.Running?"cursor-pointer hover:bg-primary-content":"cursor-default")??""}
					${(C(Y)>=1?"border-t-4 border-primary-content":"")??""}`),X.disabled=C(s)===i.Running,je(X,`
						input
						${(C(s)===i.Editing?"input-bordered":"disabled input-ghost")??""}
						w-full
						text-3xl svelte-162bbjp`)}),Oe(X,()=>C(A).name,he=>C(A).name=he),Ai(O,()=>Fo,()=>({delay:100,duration:500})),N(E,O)}),w(pe),w(g),H(()=>{k.disabled=C(s)===i.Running,je(k,`input mr-4 w-full text-3xl ${(C(s)===i.Editing?"input-bordered":"disabled input-ghost")??""} svelte-162bbjp`),He(D,"hidden",C(s)==i.Running),He(B,"hidden",C(s)===i.Editing),He(F,"rounded-t-lg",C(s)===i.Editing),He(F,"rounded-lg",C(s)===i.Running)}),Oe(k,()=>ee.name,E=>ee.name=E),N(e,f),Te()}Pe(["click","keydown","keyup"]);var ya=(e,t)=>t(),$a=K('<img width="30em" alt="German">'),xa=K('<img width="30em" alt="English">'),ka=K('<footer class="footer flex items-center border-t-4 border-primary-content p-4 text-base-content bg-primary-content/10"><aside class="flex-1"><p class="hidden sm:flex"> </p> <p class="sm:hidden"></p></aside> <button> </button> <button id="ToggleLanguageBtn"><!></button> <nav class="flex-none"><a href="https://github.com/k3ltis/splittermond-tickleiste" target="_blank"><svg width="24px" height="24px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-footer svelte-1ez3zgb"><title>github [#142]</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)" fill="#000000"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" id="github-[#142]"></path></g></g></g></svg></a></nav></footer> <dialog id="dataPrivacyModal" class="modal"><div class="modal-box"><h3 class="text-lg font-bold"> </h3> <p class="py-4"><!></p></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog>',1);function Ca(e,t){Ne(t,!0);const n=rt(),o=()=>qe(Wt,"$locale",n),i=()=>qe(st,"$_",n);let r;const a={German:"de",English:"en"},c="locale",s=a.German;let u=Ie(le(s));Et(()=>{const B=wn(c);ge(u,le(B||s))}),St(()=>{hi(Wt,le(C(u)||s))});function d(){ge(u,le(C(u)===a.German?a.English:a.German)),bn(c,C(u))}var l=ka(),v=W(l),_=y(v),m=y(_),h=y(m);H(()=>ue(h,`Copyright © k3ltis ${new Date().getFullYear()??""} - splittermond-tickleiste v0.0.1`)),w(m);var f=M(m,2);f.textContent="v0.0.1",w(_);var p=M(_,2);p.__click=()=>r.showModal();var g=y(p,!0);H(()=>ue(g,i()("data_privacy"))),w(p);var b=M(p,2);b.__click=[ya,d];var $=y(b);Z($,()=>o()==="en",B=>{var j=$a();be(j,"src",`${Ot??""}/svg/flag-for-flag-germany-svgrepo-com.svg`),N(B,j)},B=>{var j=xa();be(j,"src",`${Ot??""}/svg/flag-for-flag-united-kingdom-svgrepo-com.svg`),N(B,j)}),w(b),Ce(2),w(v);var k=M(v,2),z=y(k),D=y(z),G=y(D,!0);H(()=>ue(G,i()("data_privacy_header"))),w(D);var Q=M(D,2),ne=y(Q);$i(ne,()=>i()("data_privacy_content")),w(Q),w(z),Ce(2),w(k),et(k,B=>r=B,()=>r),N(e,l),Te()}Pe(["click"]);const Sa="Splittermond Tickbar",Ea="Initiative",Na="Name",Ta="Combatants List",Aa="Displays the list of combatants part of the scene.",La="Data Privacy",Ma="This page does utilize the browser's local storage to locally save the scene and user preferences (like language settings) in the user's browser. This is done, so that the user does not lose information when closing the browser application. If you wish to delete this information simply clear your browser's cached web data. <br /><br /> No data is send to any remote server and no other user related data is processed by this page.",Da="Data Privacy Information",za="Download icon",Ia="Download Scene",Pa="Lets you download the current scene as a JSON file.",Ba="Edit Scene",Ra="Edit Scene",Wa="Toggles edit mode to change the scene name and combatants list.",Oa="Help icon",Ha="Initiative",Fa="Name",Ua="Run Scene",Ja="Run Scene",qa="Ends edit mode and runs the scene, ordering all combatants by ascending initiative. <b>Clicking a combatant in run mode allows you to choose a number of ticks</b> to add to the combatant's initiative value, followed by a reordering. <br/><br/> You can re-enter <b>edit mode</b> at any time.",Ka="Scene Title",Ga="Shows the current scene's name.",Va="Action for {{combatantName}}",ja="Upload icon",Ya="Lets you choose a scene to load that was previously saved to your device.",Za="Next",Xa="Previous",Qa="Done",er="{{current}} of {{total}}",tr="Upload Scene",nr="Upload Scene",ir={change_theme:{title:"Day/Night Mode",content:"Toggle between day and night mode."},change_langauge:{title:"Toggle Language",content:"Switch between German and English."}},or={tooltip:{negation:"Negates ticks",set_state_expecting:"Expecting",set_state_waiting:"Waiting",set_state_dead:"Incapitated"}},ar={app_title:Sa,column_initiative:Ea,column_name:Na,combatants_list:Ta,combatants_list_description:Aa,data_privacy:La,data_privacy_content:Ma,data_privacy_header:Da,download_alt:za,download_scene:Ia,download_scene_description:Pa,edit_scene:Ba,edit_scene_button:Ra,edit_scene_description:Wa,help_alt:Oa,placeholder_initiative:Ha,placeholder_name:Fa,run_scene:Ua,run_scene_button:Ja,run_scene_description:qa,scene_title:Ka,scene_title_description:Ga,tick_selection_modal_header:Va,upload_alt:ja,upload_scene_description:Ya,tour_btn_next:Za,tour_btn_prev:Xa,tout_btn_done:Qa,tour_progress_text:er,tour_upload_scene:tr,upload_scene:nr,tour:ir,tickselection:or},rr="Splittermond Tickleiste",sr="Initiative",lr="Name",cr="Liste der Kämpfer",dr="Zeigt die Liste der Kämpfer, die Teil der Szene sind.",ur="Datenschutz",vr="Diese Seite nutzt den lokalen Speicher des Browsers (local storage), um die Szene sowie benutzerdefinierte Einstellungen (wie etwas die gewählte Sprache) lokal im Browser des Nutzers zu speichern. Dies geschieht, damit der Nutzer keine Informationen verliert, wenn er die Browseranwendung schließt. Wenn Sie diese Informationen löschen möchten, müssen Sie die zwischengespeicherten Webdaten Ihres Browsers bereinigen. <br /><br /> Es werden keine Daten an einen externen Server gesendet und keine anderen nutzerbezogenen Daten werden von dieser Seite verarbeitet.",pr="Datenschutzinformationen",fr="Download-Icon",_r="Szene herunterladen",hr="Ermöglicht es Ihnen, die aktuelle Szene als JSON-Datei herunterzuladen.",mr="Szene bearbeiten",gr="Szene bearbeiten",br="Wechselt in den Bearbeitungsmodus, um den Szenennamen und die Liste der Kämpfer zu ändern.",wr="Hilfe-Icon",yr="Initiative",$r="Name",xr="Szene ausführen",kr="Szene ausführen",Cr="Beendet den Bearbeitungsmodus und führt die Szene aus, indem alle Kämpfer nach aufsteigender Initiative geordnet werden. <b>Ein Klick auf einen Kämpfer im Ausführungsmodus ermöglicht es Ihnen, eine Anzahl von Ticks auszuwählen</b>, die zum Initiativwert des Kämpfers hinzugefügt werden, gefolgt von einer Neuanordnung. <br/><br/> Sie können jederzeit <b>in den Bearbeitungsmodus</b> zurückkehren.",Sr="Szenenüberschrift",Er="Zeigt den Namen der aktuellen Szene an.",Nr="Aktion für {combatantName}",Tr="Upload-Icon",Ar="Ermöglicht es Ihnen, eine Szene auszuwählen, die zuvor auf Ihrem Gerät gespeichert wurde.",Lr="Weiter",Mr="Zurück",Dr="Fertig",zr="{{current}} von {{total}}",Ir="Szene hochladen",Pr="Szene hochladen",Br={change_theme:{title:"Tag- und Nachtmodus",content:"Umschalten zwischen Tag- und Nachtmodus."},change_langauge:{title:"Sprache umschalten",content:"Zwischen Deutsch und Englisch wechseln."}},Rr={tooltip:{negation:"Ticks Rückwärts",set_state_expecting:"Bereithalten",set_state_dead:"Kampfunfähig",set_state_waiting:"Abwarten"}},Wr={app_title:rr,column_initiative:sr,column_name:lr,combatants_list:cr,combatants_list_description:dr,data_privacy:ur,data_privacy_content:vr,data_privacy_header:pr,download_alt:fr,download_scene:_r,download_scene_description:hr,edit_scene:mr,edit_scene_button:gr,edit_scene_description:br,help_alt:wr,placeholder_initiative:yr,placeholder_name:$r,run_scene:xr,run_scene_button:kr,run_scene_description:Cr,scene_title:Sr,scene_title_description:Er,tick_selection_modal_header:Nr,upload_alt:Tr,upload_scene_description:Ar,tour_btn_next:Lr,tour_btn_prev:Mr,tout_btn_done:Dr,tour_progress_text:zr,tour_upload_scene:Ir,upload_scene:Pr,tour:Br,tickselection:Rr};pn("en",ar);pn("de",Wr);mi({fallbackLocale:"en",initialLocale:gi()});var Or=K('<div class="flex flex-col min-h-screen"><!> <!> <!></div>');function Vr(e,t){Ne(t,!0),Et(()=>{const a=Ri();a&&yn(a)}),St(()=>{Oi()});var n=Or(),o=y(n);Ro(o,{});var i=M(o,2);wa(i,{});var r=M(i,2);Ca(r,{}),w(n),N(e,n),Te()}export{Vr as component};
